---
marp: true
---

# Quick Review

### 도커의 장점
- 환경설정/배포 문제로 인한 트러블슈팅에 리소스가 낭비되는 것을 방지
- 개발환경에 상관없이 소프트웨어를 실행할 수 있음 (도커 이미지에 소프트웨어 및 의존 모듈을 모두 함께 패키징 함으로써)

### 도커의 기본적인 워크플로우
**빌드 - 실행 - 공유**  
(빌드) `docker image build --tag {이미지-이름}`  
(실행) `docker container run {이미지-이름}`  
(공유) 로컬에서 빌드한 이미지를 다른 사람이 사용하게끔 하는 것

---
# 도커 레지스트리 (Docker registry)
이미지를 제공하는 저장소

### Docker Hub
- 무료로 제공되는 공개 레지스트리
- 도커 엔진이 기본으로 설정된 레지스트리

### 그 밖에 레지스트리?
규모 있는 회사들의 경우, 전용 클라우드/사내망에 자사 레지스트리를 별도로 꾸리기도 (for 보안)

---
# 도커 이미지 참조 (Docker Image Reference)
도커 이미지의 풀 네임
```
docker.io.diamol/golang:latest
```
### 구성 요소
(1) 레지스트리 도메인 --> 기본값: 도커허브
(2) 이미지 작성자 계정 이름
(3) 이미지 레포지토리 이름
(4) 이미지 태그 --> 기본값: latest

---
# 도커 레지스트리에 이미지 푸시하기
준비물: 도커 허브 계정
(1) 도커허브에 로그인
(2) 이미지 참조 생성
(3) 푸시하기 `docker image push {이미지 참조}`

* 로컬에 빌드된 이미지에 이미지 참조 부여하기 
`docker image tag {이미지 이름} {이미지 참조}`
cf. 이미지는 여러 개의 이미지 참조를 가질 수 있다

---
# 로컬 도커 레지스트리 운영하기
### 장점
(1) 인터넷 회선 사용량 low
(2) 전송 시간 low
(3) 데이터를 로컬에서 관리 (보안)
(4) 공개 레지스트리가 다운되었을 경우 대비
### 절차
(1) 도커 코어 레지스트리 서버를 컨테이너 형태로 실행
(2) 로컬 네트워크에 도메인 네임 붙이기 (host 파일 편집)
(3) 비보안 레지스트리 허용 목록에 로컬 레지스트리 추가

---
# 이미지 태그 관리하기
### 태그의 활용도
- 버전 구별, 운영체제 식별
- 버전: (major).(minor).(patch)
### 검증된 퍼블리셔, 공식 이미지, 골든 이미지
- 검증된 퍼블리셔: 신뢰할 수 있는 기업들 중에 지정
- 공식 이미지: 주로 오픈 소스 소프트웨어. 잘 최적화된 Dockerfile
- 골든 이미지: 특정 버전의 공식 이미지를 기반으로 함. 인증서/환경설정값 추가됨
  
