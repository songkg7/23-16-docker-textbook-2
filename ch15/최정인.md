---
marp: true
---

## 15장 보안 원격 접근 및 CI/CD를 위한 도커 설정
15.1 도커 API의 엔드포인트 형태
15.2 보안 원격 접근을 위한 도커 엔진 설정
15.3 도커 컨텍스트를 사용해 원격 엔진에서 작업하기
15.4 지속적 통합 파이프라인에 지속적 배포 추가하기
15.5 도커 리소스의 접근 모델

---

# 도커엔진을 원격에서 접근 가능하게 하려면?
설정에서 명시적으로 외부 접근을 허용해야 한다.

**method 1. (비추) 비보안 HTTP를 통한 접근을 허용하기**
HTTP 프로토콜을 통한 접근은 사용자 인증이나 암호화가 적용되지 않는 비보안 채널임.
누구든지 도커 엔진에 접근할 수 있게 하기 때문에 보안 상 위험하다.

```
원격에 위치한 도커 엔진을 다룰 때는 어떤 명령을 내리든 그 명령을 해당 서버의 입장에서 생각해야 한다.
```

---

# 도커엔진을 원격에서 접근 가능하게 하려면? (cont.)
**method 2. 상호 TLS를 이용한 보안 원격 접근 설정하기**
상호TLS는 암호화가 적용된다. 클라이언트는 일치하는 인증서를 갖고 있어야 도커 엔진에 접근할 수 있다.
상호TLS를 사용하려면 (1)인증서 한 쌍, (2)키 파일 한 쌍이 필요하다.
(1) 인증서 쌍 - 클라이언트 인증서, 서버 인증서.
(2) 키 파일 쌍 - 인증서의 패스워드 역할을 함. 하나는 도커 API가, 하나는 클라이언트가 사용함.

(pros) 더 널리 사용되는 방법
(cons) 인증서를 생성/교체하는 관리 업무에서 오버헤드가 발생

---

# 도커엔진을 원격에서 접근 가능하게 하려면? (cont.)
**method 3. SSH**
암호화가 적용된다. 클라이언트는 도커 엔진을 실행중인 컴퓨터에 계정을 갖고 있어야 도커 엔진에 접근할 수 있다. 
(pros) SSH 클라이언트만 있으면 되고, 접근권한 관리가 비교적 쉬움

### 도커 컨텍스트를 사용해 원격 엔진에서 작업하기
도커 컨텍스트를 사용함으로써 원격으로 접근할 도커 엔진을 편하게 전환할 수 있다. 

### 도커 리소스의 접근 모델
도커 엔진의 보안 - 명령행 도구와 API 사이의 통신을 암호화 / 허가받은 사용자만 API에 접근할 수 있게 하는 것.