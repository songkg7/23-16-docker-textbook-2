# 16. 다중아키텍처 이미지 만들기
- 여러가지 아키텍처를 지원하면서 운영비가 싼 ARM 이나 개발환경(MAC, WINDOWS)에 필요한 환경 지원 바로 가능하다. 

## 16.1 다중 아키텍처 이미지가 중요한 이유
- `docker build -t image --platform linux/arm64`
- 해당 아키텍쳐용 이미지 빌드 가능하다.
- 도커는 시스템 정보를 이용해 알아서 맞는 이미지를 내려받는다.
- 아니면 `no matching manifest for linux/amd64`가 뜬다.

## 16.2 다중 아키텍처 이미지를 만들기 위한 Dockerfile 스크립트
- 다중 아키텍쳐를 만드는 방법
- 1. 하나의 dockerscript로 이미지를 만들기
- 공식이미지들은 다중아키텍처 지원한다.
  - 1. FROM 인스트럭션에 항상 다중 아키텍처 기반 이미지 사용
  - 2. RUN, CMD 인스트럭션에는 특정 운영체제 명령어 사용 자제
  - 3. 애플리케이션 시동이 복잡하면 특정 언어 유틸로 빼기
- 2. 다중 DOCKER SCRIPT
  - 1. 예시) 프로메테우스, 그라파나는 따로 만들어야된다.
- 3. x86-64 -> amd64


## 16.3 다중 아키텍처 이미지를 레지스트리에 푸시하기
- `docker manifest inspect 이미지` 
- `docker manifest create "이미지태그" "이미지 태그"`
- `docker manifest push`

## 16.4 도커 Buildx를 사용해 다중 아키텍처 이미지 빌드하기
- 여러가지 빌드 운영서버를 연결해서(다중 컨텍스트) buildx를 이용해서 한번에 빌드 돌릴 수 있다.
- 빌드팜을 생성할 수 있다.

## 16.5 개발 로드맵과 다중 아키텍처 이미지
-
